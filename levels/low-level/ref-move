[description]

refs를 새 위치로 지정하려면 refs를 생성할 때 사용하는 명령어와 동일한 명령어를 사용할 수 있습니다:

    git update-ref refs/<refname> <object>

연습으로, 이 저장소의 모든 refs를 트리 오브젝트를 가리키도록 만들어보세요!

[setup]

echo hello > hello
echo world > world
BLOB1=$(git hash-object -w hello)
BLOB2=$(git hash-object -w world)
git add .
TREE=$(git write-tree)
COMMIT=$(git commit-tree $TREE -m "Initial commit")

# git update-ref 명령어를 이용하여 refs/a를 BLOB1로 업데이트합니다.
git update-ref refs/a "$BLOB1"
# git update-ref 명령어를 이용하여 refs/b를 COMMIT으로 업데이트합니다.
git update-ref refs/b "$COMMIT"

[setup goal]

echo hello > hello
echo world > world
BLOB1=$(git hash-object -w hello)
BLOB2=$(git hash-object -w world)
git add .
TREE=$(git write-tree)
COMMIT=$(git commit-tree $TREE -m "Initial commit")

# git update-ref 명령어를 이용하여 refs/a를 BLOB1로 업데이트합니다.
git update-ref refs/a "$BLOB1"
# git update-ref 명령어를 이용하여 refs/b를 COMMIT으로 업데이트합니다.
git update-ref refs/b "$COMMIT"

# for-each-ref 명령어를 이용하여 모든 참조(ref)들을 가져오고 각 참조를 TREE로 업데이트합니다.
for REF in $(git for-each-ref --format='%(refname)'); do
    git update-ref "$REF" "$TREE"
done

[win]

test "$(git show-ref -s | sort -u)" = "c7863f72467ed8dd44f4b8ffdb8b57ca7d91dc9e"