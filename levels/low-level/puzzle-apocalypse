[description]

Git 명령만을 사용하여 이 저장소의 모든 객체를 삭제하십시오!

유용한 명령어:

    git prune
    git reflog expire

[setup]

echo foo > foo
BLOB=$(git hash-object -w foo)
echo bar > bar
git add .
git commit -m "Initial commit"
echo blabber >> bar
git commit -a -m "Second commit"
git update-ref refs/important HEAD
git update-ref refs/interesting "$BLOB"

[setup goal]

echo foo > foo
BLOB=$(git hash-object -w foo)
echo bar > bar
git add .
git commit -m "Initial commit"
echo blabber >> bar
git commit -a -m "Second commit"
git update-ref refs/important HEAD
git update-ref refs/interesting "$BLOB"

TREE=$(git mktree)
git read-tree $TREE
# 모든 참조 제거
rm -rf .git/refs/*
# 모든 객체 제거
rm -rf .git/objects/*

[win]

test "$(git cat-file --batch-check --batch-all-objects | wc -l)" -eq 0